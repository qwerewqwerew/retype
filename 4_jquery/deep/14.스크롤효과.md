---
order: 100
label: 14.ìŠ¤í¬ë¡¤ íš¨ê³¼
author: ì½”ì•Œë¼ì½”ë”©
name: ì½”ì•Œë¼ì½”ë”©
avatar: koala
icon: hubot
link: https://www.youtube.com/channel/UCMb94yucTNsjIJqD8C8lO2Q
category: [jQuery+javascript]
tags: [jQuery, javascript, jQuery + javascript]
---

### ëª©ì°¨ <!-- omit in toc -->

- [1. ìŠ¤í¬ë¡¤ íš¨ê³¼ë¥¼ ë§Œë“¤ì–´ë³´ì](#1-ìŠ¤í¬ë¡¤-íš¨ê³¼ë¥¼-ë§Œë“¤ì–´ë³´ì)
	- [1.1. 1ë‹¨ê³„-ì„¹ì…˜1](#11-1ë‹¨ê³„-ì„¹ì…˜1)
		- [1.1.1. ì¢Œìš°ì´ë™ - css ë©”ì„œë“œ í™œìš©](#111-ì¢Œìš°ì´ë™---css-ë©”ì„œë“œ-í™œìš©)
	- [1.2. 2ë‹¨ê³„-ì„¹ì…˜2](#12-2ë‹¨ê³„-ì„¹ì…˜2)
		- [1.2.1. ìƒí•˜ì´ë™ ì‹œê°„ì°¨-animate() ë©”ì„œë“œ í™œìš©](#121-ìƒí•˜ì´ë™-ì‹œê°„ì°¨-animate-ë©”ì„œë“œ-í™œìš©)
	- [1.3. 3ë‹¨ê³„-ì„¹ì…˜3](#13-3ë‹¨ê³„-ì„¹ì…˜3)
		- [1.3.1. ë¦¬ë¹Œíš¨ê³¼-addClass() ë©”ì„œë“œ í™œìš©](#131-ë¦¬ë¹Œíš¨ê³¼-addclass-ë©”ì„œë“œ-í™œìš©)
	- [1.4. 4ë‹¨ê³„-ì„¹ì…˜4](#14-4ë‹¨ê³„-ì„¹ì…˜4)
		- [1.4.1. PIPìŠ¤í¬ë¡¤](#141-pipìŠ¤í¬ë¡¤)
	- [1.5. 5ë‹¨ê³„](#15-5ë‹¨ê³„)
		- [1.5.1. ê°€ë¡œìŠ¤í¬ë¡¤](#151-ê°€ë¡œìŠ¤í¬ë¡¤)
- [2. ì†ì„±ì„ í™œìš©í•œ ìŠ¤í¬ë¡¤ íš¨ê³¼](#2-ì†ì„±ì„-í™œìš©í•œ-ìŠ¤í¬ë¡¤-íš¨ê³¼)

## 1. ìŠ¤í¬ë¡¤ íš¨ê³¼ë¥¼ ë§Œë“¤ì–´ë³´ì

### 1.1. 1ë‹¨ê³„-ì„¹ì…˜1

#### 1.1.1. ì¢Œìš°ì´ë™ - css ë©”ì„œë“œ í™œìš©
+++ ì˜ˆì œ
[!ref target='blank' text=':icon-play:ë¯¸ë¦¬ë³´ê¸°'](https://qwerewqwerew.github.io/source/jq/9)
[!ref target='blank' text=':icon-play:ë¯¸ë¦¬ë³´ê¸°'](.https://qwerewqwerew.github.io/source/jq/14/step1/play.html)

!!!

ì´ ì½”ë“œëŠ” ì ì¬ì ì¸ ë²„ê·¸ê°€ ìˆë‹¤. ì‘ì„±í›„ ì–´ë–¤ ë²„ê·¸ê°€ ë°œìƒí• ìˆ˜ ìˆì„ì§€ ì˜ˆìƒí•´ë³´ì

!!!

+++ HTML

```html # html
<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<link rel="stylesheet" href="./css/jq-01.css" />
		<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
		<script src="./js/jq-01.js" defer></script>
	</head>

	<body>
		<section class="section1">
			<h2>section1</h2>
			<div class="container">
				<div class="box box1 bg2"></div>
				<div class="box box2 bg3"></div>
			</div>
		</section>
		<section class="section2">
			<h2>section2</h2>
			<div class="box box1 bg4"></div>
			<div class="box box2 bg5"></div>
		</section>
		<section class="section3">
			<h2>section3</h2>
			<div class="box box1 bg2"></div>
			<div class="box box2 bg1"></div>
		</section>
		<section class="section4">
			<h2>section4</h2>
			<div class="box box1 bg2"></div>
			<div class="box box2 bg1"></div>
		</section>
		<section class="section5">
			<h2>section5</h2>
			<div class="box box1 bg2"></div>
			<div class="box box2 bg3"></div>
		</section>
	</body>
</html>
```

+++ CSS

```css # css
* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}
:root {
	--bg1: #285dfb;
	--bg2: #537dfb;
	--bg3: #7e9efc;
	--bg4: #a9befd;
	--bg5: #d4dffe;
}
.bg1 {
	background-color: var(--bg1);
	color: var(--bg5);
}
.bg2 {
	background-color: var(--bg2);
	color: var(--bg4);
}
.bg3 {
	background-color: var(--bg3);
	color: var(--bg3);
}
.bg4 {
	background-color: var(--bg4);
	color: var(--bg2);
}
.bg5 {
	background-color: var(--bg5);
	color: var(--bg1);
}
section {
	overflow: hidden;
	text-align: center;
	width: 100%;
	height: 100vh;
}

section h2 {
	padding: 12vw 6vw;
}
```

```css # ì• ë‹ˆë©”ì´íŠ¸ íš¨ê³¼ css
.box {
	display: inline-block; /* clamp (ìµœì†Œ,ê¸°ë³¸,ìµœëŒ€)ìµœì†Œ, ìµœëŒ€ê°€ ëª…í™•í•œ ê²½ìš° ì‚¬ìš©ê°€ëŠ¥ */
	width: clamp(100px, 30%, 100%);
	height: 300px;
	transition: all 2s;
}
.box1 {
	transform: translateX(-200%);
}
.box2 {
	transform: translateX(200%);
}
.box.in {
	transform: translateX(-200%);
}
```

+++ JS

```js # jQuery
$(window).on('scroll', () => {
	let winSCT;
	const sections = $('section');
	winSCT = $(window).scrollTop();
	sections.each(function (idx, o) {
		$(o).addClass(`bg${idx + 1}`);
		const tg = $(this);
		const tgtop = tg.offset().top;
		if (winSCT > tgtop) {
			tg.find('.box').css('transform', 'translateX(0%)');
		} else if (winSCT > tgtop) {
			tg.find('.box').css('transform', 'translateX(0%)');
		} else if (winSCT > tgtop) {
			tg.find('.box').css('transform', 'translateX(0%)');
		}
	});
});
```

!!!

ì²«ë²ˆì§¸ ì„¹ì…˜ì— ë„ë‹¬ì‹œ ì• ë‹ˆë©”ì´íŠ¸ê°€ ì‹¤í–‰ëœë‹¤. ë°˜ë³µë¬¸ ë‚´ì—ì„œ ìˆœíšŒí•˜ëŠ” this ì˜ ê±°ë¦¬ë¥¼ ë¹„êµí•˜ê³  ìˆìœ¼ë¯€ë¡œ ì¡°ê±´ ì¶”ê°€ì‹œ ë‹¤ìŒ ì„¹ì…˜ì˜ ê±°ë¦¬ë¥¼ ë¹„êµí•˜ì—¬ ì• ë‹ˆë©”ì´íŠ¸ê°€ ì‹¤í–‰ëœë‹¤.

!!!

+++

### 1.2. 2ë‹¨ê³„-ì„¹ì…˜2

#### 1.2.1. ìƒí•˜ì´ë™ ì‹œê°„ì°¨-animate() ë©”ì„œë“œ í™œìš©

+++ ì˜ˆì œ

[!badge icon='play' iconAlign='left' variant='info' size='xl' corners='round' text='ë¯¸ë¦¬ë³´ê¸°' target='blank'](.https://qwerewqwerew.github.io/source/jq/14/step2/play.html)

+++ HTML

```html # html
<section class="section2">
	<h2>section2</h2>
	<div class="gallery">
		<div class="box bg3"></div>
		<div class="box bg4"></div>
		<div class="box bg5"></div>
	</div>
</section>
```

!!!

section2ì˜ êµ¬ì¡°ë¥¼ ìˆ˜ì •í•œë‹¤.

!!!

+++ CSS

```css # css
.section2 .gallery {
	margin-top: 10vw;
	position: relative;
	display: flex;
}
.section2 .gallery .box {
	width: 15vw;
	height: 20vw;
	position: absolute;
	opacity: 0;
	top: 100vw;
}

.section2 .bg3 {
	left: 10vw;
}

.section2 .bg4 {
	left: 40vw;
}

.section2 .bg5 {
	right: 10vw;
}
```

!!!

cssë¥¼ ì¶”ê°€í•œë‹¤.

!!!

+++ JQ

```js # jQuery
const sections = $('section');
let speed = Math.floor(sections.outerHeight() * 0.2);
let topArr = [];
let winSCT;

sections.each((idx, section) => {
	$(section).addClass(`bg${idx + 1}`);
	const sectionTop = $(section).offset().top;
	topArr.push(sectionTop);
});

$(window).on('scroll', () => {
	winSCT = $(window).scrollTop();
	if (winSCT > topArr[0] winSCT < topArr[1] - speed) {
		sections.eq(0).find('.box').css('transform', 'translateX(0%)');
	}
	if (winSCT > topArr[1] winSCT < topArr[2]) {
		sections.eq(1).find('.bg3').stop().delay(0).animate({ top: '5vw', opacity: 1 }, 500, 'swing');
		sections.eq(1).find('.bg4').stop().delay(100).animate({ top: '0vw', opacity: 1 }, 800, 'swing');
		sections.eq(1).find('.bg5').stop().delay(200).animate({ top: '-5vw', opacity: 1 }, 1100, 'swing');
	}
});
```

!!! 1ë‹¨ê³„ì˜ ì½”ë“œëŠ” í¬ê²Œ 4ê°€ì§€ì˜ ë²„ê·¸ê°€ ë°œìƒí• ìˆ˜ ìˆë‹¤.

1. ì¤‘ë³µëœ ì¡°ê±´: if (winSCT > tgtop)ê°™ì€ ì¡°ê±´ì„ ì„¸ë²ˆ ë°˜ë³µ í•˜ì—¬ ë¹„êµí•˜ê³  ìˆë‹¤. ê°™ì€ ì¡°ê±´ì´ ì„±ë¦½ë˜ë©´ .box ìš”ì†Œì˜ ìŠ¤íƒ€ì¼ ë˜í•œ ì—¬ëŸ¬ë²ˆ ì„¤ì •ë  ìˆ˜ ìˆë‹¤.
   1. ì„¹ì…˜ë³„ offsetTop ê°’ì„ ë°°ì—´ë¡œ ì €ì¥í•˜ì—¬ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— ì „ë‹¬í•œë‹¤.
2. ë¶€ì ì ˆí•œ ë¹„êµ ì—°ì‚°ì: ëª¨ë“  else if ë¬¸ì˜ ì¡°ê±´ì´ winSCT > tgtopìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì²« ë²ˆì§¸ if ë¬¸ê³¼ ë™ì¼í•œ ì¡°ê±´ì´ë‹¤. ê²°êµ­ ë‘ ë²ˆì§¸ì™€ ì„¸ ë²ˆì§¸ else if ë¬¸ì€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.
   1. ë°°ì—´ì˜ ì¸ë±ìŠ¤ ë²ˆí˜¸ë¥¼ í™œìš©í•˜ì—¬ ì¡°ê±´ì„ ëª…í™•í•˜ê²Œ ì§€ì •í•œë‹¤.
3. ë³€ìˆ˜ ë²”ìœ„(scope): winSCT, sections, tg, ê·¸ë¦¬ê³  tgtop ë³€ìˆ˜ëŠ” ëª¨ë‘ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì„ ì–¸ë˜ì—ˆë‹¤. ê° ì„¹ì…˜ ë°˜ë³µë¬¸ë§ˆë‹¤ ìƒˆë¡œìš´ ë³€ìˆ˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ë¯€ë¡œ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ì—†ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
   1. ì „ì—­ë³€ìˆ˜ë¡œ ìˆ˜ì •í•œë‹¤.
4. ì¤‘ì²©ëœ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë¥¼ ìµœìƒìœ„ ë ˆë²¨ë¡œ ì‘ì„±í•˜ê²Œ ë ê²½ìš° ì¶”í›„ í•˜ìœ„ì— ë‹¤ë¥¸ ì´ë²¤íŠ¸í•¸ë“¤ëŸ¬ë¥¼ í¬í•¨í•˜ê²Œ ë˜ì–´ ì˜ˆê¸°ì¹˜ ëª»í•œ ë™ì‘ì„ ì´ˆë˜í• ìˆ˜ ìˆë‹¤.
   1. ë°˜ë³µë¬¸ê³¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë¶„ë¦¬í•œë‹¤.

!!!

+++

### 1.3. 3ë‹¨ê³„-ì„¹ì…˜3

#### 1.3.1. ë¦¬ë¹Œíš¨ê³¼-addClass() ë©”ì„œë“œ í™œìš©

> ë§ˆìŠ¤í¬íš¨ê³¼ë¥¼ êµ¬í˜„í•´ë³´ì

+++ ì˜ˆì œ

[!ref target='blank' text=':icon-play:ë¯¸ë¦¬ë³´ê¸°'](.https://qwerewqwerew.github.io/source/jq/14/step3/play.html)

+++ HTML

```html # html
<section class="section3">
	<div class="item">
		<h2>section3</h2>
		<figure>
			<img src="http://qwerew.cafe24.com/images/1.jpg" alt="" />
			<figcaption>yum yum</figcaption>
		</figure>
	</div>
	<div class="item">
		<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe est nostrum amet eligendi quas fugit libero cumque deserunt voluptate placeat dolorum culpa praesentium reiciendis, aliquid ad illum laborum, harum ratione.</p>
	</div>
</section>
```

+++ CSS

```css # css
.section3 {
	display: flex;
	color: #333;
	gap: 2rem;
}

.section3 .item:nth-child(1) {
	flex-basis: 60%;
}

.section3 .item:nth-child(2) {
	flex-basis: 40%;
	align-self: center;
}

.section3 figure {
	position: relative;
	box-shadow: -1rem 1rem 3rem -2rem rgba(0, 0, 0, 0.5);
}

.section3 figure:before {
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	background: var(--bg1);
	transition: clip-path 0.8s cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

.section3 figure img {
	width: 100%;
	display: block;
	clip-path: inset(0 100% 0 0);
	/* duration 0.6 delay 0.3 */
	transition: clip-path 0.6s 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

.section3 figure figcaption {
	position: absolute;
	top: 20px;
	right: 20px;
	padding: 10px;
	font-weight: bold;
	text-transform: uppercase;
	color: #fff;
	background: var(--bg1);
	mix-blend-mode: difference;
	transition: clip-path 0.3s 0.9s cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

.section3 figure::before,
.section3 figure figcaption {
	clip-path: inset(0 0 0 100%);
}

.section3.is-animated figure::before,
.section3.is-animated figure img,
.section3.is-animated figure figcaption {
	clip-path: inset(0);
}
```

!!!

1. `clip-path: inset(0 100% 0 0);` inset() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì†Œì˜ ë³´ì´ëŠ” ë¶€ë¶„ì„ ì„¤ì •. inset() í•¨ìˆ˜ëŠ” ì‚¬ê°í˜• í˜•íƒœì˜ í´ë¦¬í•‘ ì˜ì—­ì„ ë§Œë“¤ë©°, ì¸ìˆ˜ëŠ” ê°ê° ìƒë‹¨, ì˜¤ë¥¸ìª½, í•˜ë‹¨, ì™¼ìª½ ë³€ì—ì„œ ì–¼ë§ˆë‚˜ ì•ˆìª½ìœ¼ë¡œ ë“¤ì–´ê°€ëŠ”ì§€ë¥¼ ë‚˜íƒ€ëƒ„. ê²°ê³¼ì ìœ¼ë¡œ ìƒë‹¨ì—ì„œëŠ” ë‚´ë¶€ë¡œ ë“¤ì–´ê°€ì§€ ì•Šê³ (0), ì˜¤ë¥¸ìª½ì—ì„œëŠ” ìš”ì†Œ ë„ˆë¹„ ì „ì²´ë§Œí¼ ë‚´ë¶€ë¡œ ë“¤ì–´ê°„ë‹¤(100%).
   - ![alt](.https://qwerewqwerew.github.io/source/jq/14/step3/10-08_526.jpg)
2. ì°¸ì¡°ë§í¬ [!ref target='blank' text=':icon-link:í´ë¦½íŒ¨ìŠ¤ìƒì„±ê¸°'](https://bennettfeely.com/clippy/)
3. ì°¸ì¡°ë§í¬ [!ref target='blank' text=':icon-link:MDN'](https://developer.mozilla.org/en-US/docs/Web/CSS/clip-path)
4. `.section3` ì— `.is-animated` í´ë˜ìŠ¤ê°€ ì¶”ê°€ë˜ë©´ clip-pathì˜ ì¢Œí‘œë¥¼ ë³€ê²½í•œë‹¤.

!!!

+++ JQ

```js # javascript
...ìƒëµ
if (winSCT > topArr[2] && winSCT < topArr[3]-speed) {
	sections.eq(2).addClass('is-animated');
}
```

!!!

ì¡°ê±´ë¬¸ì„ ì¶”ê°€í•œë‹¤.

!!!

+++

### 1.4. 4ë‹¨ê³„-ì„¹ì…˜4

#### 1.4.1. PIPìŠ¤í¬ë¡¤

> í™”ë©´ì•ˆì˜ í™”ë©´ì´ ìŠ¤í¬ë¡¤ ë˜ëŠ” íš¨ê³¼ë¥¼ ë§Œë“¤ì–´ë³´ì

+++ ì˜ˆì œ

!!!

ì•„ë˜ì˜ ì´ë¯¸ì§€ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ í•œë‹¤

!!!

[!badge target='blank' variant='primary' size='l' text='ì´ë¯¸ì§€íŒŒì¼' icon='file'](.https://qwerewqwerew.github.io/source/jq/14/step4/image.zip)

[!ref target='blank' text=':icon-play:ë¯¸ë¦¬ë³´ê¸°'](.https://qwerewqwerew.github.io/source/jq/14/step4/play.html)

+++ HTML

```html # html
<section class="section4">
	<h2>section4</h2>
	<div class="container">
		<div class="item left pa">
			<div class="mockup pc">
				<div class="mask"><img src="./image/project1_pc.png" alt="" class="screen" /></div>
				<img src="./image/desktop.png" alt="" class="device" />
			</div>
			<div class="mockup mobile">
				<div class="mask"><img src="./image/project1_mobile.png" alt="" class="screen" /></div>
				<img src="./image/mobile.png" alt="" class="device" />
			</div>
		</div>
		<div class="item right bg1 pa"></div>
	</div>
</section>
```

+++ CSS

```css # css
.section4 .container {
	display: flex;
	position: relative;
}
.pa {
	position: absolute;
	top: 0;
}

.item {
	height: 30vw;
}
.left {
	width: 60vw;
	transition: left 1s ease-in-out;
	left: -100%;
}
.right {
	width: 40vw;
	right: 0;
}
.is-animated .left {
	left: 0;
}
.left .mockup img,
.left .mockup .mask {
	position: absolute;
	top: 0;
	left: 0;
}
.left .mockup.pc {
	margin-left: clamp(5%, 100px, 10%);
	position: relative;
	width: 60%;
	height: 100%;
}

.left .mockup.pc .mask {
	z-index: 3;
	width: 32.3vw;
	height: 61.8%;
	overflow: hidden;
	top: 6%;
	left: 5.2%;
}
.left .mockup.pc img.screen {
	z-index: 1;
	width: 100%;
}
.left .mockup.pc img.device {
	z-index: 2;
	width: 100%;
}
/* mobile */
.left .mockup.mobile {
	z-index: 99;
	position: relative;
	top: -76%;
	left: 58%;
	width: 20%;
	height: 60%;
}

.left .mockup.mobile .mask {
	z-index: 999;
	width: 10.5vw;
	height: 100%;
	overflow: hidden;
	top: 10.8%;
	left: 7%;
	border-radius: 16px 16px 0 0;
}
.left .mockup.mobile img.screen {
	z-index: 3;
	width: 100%;
}
.left .mockup.mobile img.device {
	z-index: 4;
	width: 100%;
}
```

+++ JQ

```js # javascript
$(() => {
	const sections = $('section');
	let speed = Math.floor(sections.outerHeight() * 0.3);
	let topArr = [];
	let winSCT;

	sections.each((idx, section) => {
		$(section).addClass(`bg${idx + 1}`);
		const sectionTop = $(section).offset().top;
		topArr.push(sectionTop);
	});

	/* ìŠ¤í¬ë¡¤í•¨ìˆ˜ */
	$(window).on('scroll', () => {
		winSCT = $(window).scrollTop();
		if (winSCT > topArr[0] && winSCT < topArr[1] - speed) {
			sections.eq(0).find('.box').css('transform', 'translateX(0%)');
		}

		if (winSCT > topArr[1] && winSCT < topArr[2] - speed) {
			sections.eq(1).find('.bg3').stop().delay(100).animate({ top: 0, opacity: 1 }, 500, 'swing');
			sections.eq(1).find('.bg4').stop().delay(200).animate({ top: -100, opacity: 1 }, 800, 'swing');
			sections.eq(1).find('.bg5').stop().delay(300).animate({ top: -200, opacity: 1 }, 1100, 'swing');
		}

		if (winSCT > topArr[2] && winSCT < topArr[3] - speed) {
			console.log(winSCT > topArr[2] && winSCT < topArr[3]);
			sections.eq(2).addClass('is-animated');
		}
		if (winSCT > topArr[3] && winSCT < topArr[4]) {
			sections.eq(3).addClass('is-animated');
		}
	});
	pipScroll();
	function pipScroll() {
		const section = sections.eq(3);
		const devices = ['.mockup.pc', '.mockup.mobile'];

		$.each(devices, function (i, deviceEl) {
			const device = section.find(deviceEl);
			const screen = device.find('.mask>img');
			const mask = device.find('.mask');
			const heightDifference = screen.innerHeight() - mask.innerHeight();
			console.log(device.innerHeight());
			console.log(screen.innerHeight());

			device.on({
				mouseenter: function () {
					if (section.hasClass('is-animated')) {
						screen.stop().animate({ top: -heightDifference }, 1000);
					}
				},
				mouseleave: function () {
					if (section.hasClass('is-animated')) {
						screen.stop().animate({ top: 0 }, 1000);
					}
				},
			});
		});
	}
}); //jQuery
```

!!!

ì°½í¬ê¸° ë³€ê²½ì‹œ ìŠ¤í¬ë¡¤ê°’ì„ ì¬ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜ ì¶”ê°€ function pipScroll() ë‚´ì— ì‘ì„±í•œë‹¤. !!!

```js
// ìœˆë„ìš° í¬ê¸°ê°€ ë³€ê²½ë  ë•Œ heightDifferenceë¥¼ ë‹¤ì‹œ ê³„ì‚°.
function pipScroll() {
...ìƒëµ
$(window).on('resize', function () {
	$.each(devices, function (i, deviceEl) {
		let device = section.find(deviceEl);
		let screen = device.find('.mask>img');
		let mask = device.find('.mask');
		let heightDifference = screen.innerHeight() - mask.innerHeight();

		// heightDifferenceë¥¼ ë‹¤ì‹œ ì„¤ì •.
		device.data('heightDifference', heightDifference);
		console.log(heightDifference);
			});
		});
	}
})//jQuery

```

+++

### 1.5. 5ë‹¨ê³„

#### 1.5.1. ê°€ë¡œìŠ¤í¬ë¡¤

+++ ì˜ˆì œ

[!ref target='blank' text=':icon-play:ë¯¸ë¦¬ë³´ê¸°'](.https://qwerewqwerew.github.io/source/jq/14/step5/play.html)

!!!

ìƒˆë¬¸ì„œë¥¼ ë§Œë“¤ì–´ì„œ ì§„í–‰í•œë‹¤

!!!

+++ HTML

```html # html
...ì¤‘ëµ
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
...ì¤‘ëµ
<div id="wrap">
	<div id="mobilepage" class="section"></div>
	<div id="mainpage" class="on section"></div>
	<div id="webpage" class="section"></div>
	<div id="profilepage" class="section"></div>
</div>
```

!!!

ì•„ë˜ëŠ” gnb ì˜ì—­ì„ ì¶”ê°€í•  ê²½ìš° ì‘ì„±í•œë‹¤.

!!!

```js
<header>
	<a href="index.html" class="top_logo">
		Logo
	</a>
	<ul class="lnb">
		<li>
			<span></span>
			<a href="#">MOBILE</a>
		</li>
		<li class="active">
			<span></span>
			<a href="#">MAIN</a>
		</li>
		<li>
			<span></span>
			<a href="#">WEB</a>
		</li>
		<li>
			<span></span>
			<a href="#">PROFILE</a>
		</li>
	</ul>
</header>
```

+++ CSS

```css # css
* {
	margin: 0;
	padding: 0;
}
img {
	border: 0;
}
a {
	text-decoration: none;
}
ul,
li {
	list-style: none;
}
body {
	background: #dcdada;
	overflow: hidden;
}
#wrap {
	position: relative;
}
#wrap > div {
	position: absolute;
	padding-top: 150px;
	width: 100%;
	height: 700px;
	opacity: 1;
	top: 0;
}
#wrap > div:nth-child(1) {
	left: 0%;
	background: yellow;
}
#wrap > div:nth-child(2) {
	left: 100%;
	background: green;
}
#wrap > div:nth-child(3) {
	left: 200%;
	background: blue;
}
#wrap > div:nth-child(4) {
	left: 300%;
	background: red;
}
```

!!!

ì•„ë˜ëŠ” gnb ì˜ì—­ì„ ì¶”ê°€í•  ê²½ìš° ì‘ì„±í•œë‹¤.

!!!

```css #
header {
	width: 50%;
	height: 130px;
	position: fixed;
	z-index: 1000000;
}
header .top_logo {
	position: absolute;
	top: 30px;
	left: 30px;
	transition: all 0.8s;
}
header .top_logo img {
	width: 130px;
}
.lnb {
	position: absolute;
	top: 60px;
	left: 150px;
	transition: all 0.6s;
	font-family: 'Noto Sans', sans-serif;
	font-weight: 300;
}
.lnb li {
	float: left;
	position: relative;
}
.lnb li span {
	width: 10px;
	height: 10px;
	background: #b691db;
	display: block;
	border-radius: 50%;
	position: absolute;
	left: 31%;
	top: -13px;
	opacity: 0;
}
.lnb li a {
	font-size: 1.5em;
	color: #000;
	margin-right: 25px;
}
```

+++ JQ

```js # javascript
const contents = $('.section');
let secArr = [];
contents.each((index) => {
	secArr.push(index);
});
let w;
let h;
$(window).resize(function () {
	w = $(window).width();
	h = $(window).height();
	contents.height(h);
	contents.width(w);
	$('#wrap').height(h);
});
$(window).trigger('resize');
// ì´ˆê¸° ìœ„ì¹˜ ì„¤ì •
$('html,body')
	.stop()
	.animate({ scrollLeft: contents.eq(1).offset().left }, 1300);
contents.on('wheel', function (event) {
	let currentIndex = $(this).index();

	if (event.originalEvent.deltaY > 0) {
		// ë§ˆìš°ìŠ¤ íœ  ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤
		currentIndex++;
		if (currentIndex >= secArr.length) {
			// ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ ë„˜ì–´ê°€ë©´ ì²˜ìŒ ìš”ì†Œë¡œ ëŒì•„ê°
			currentIndex = secArr[0];
		}
		$('html,body')
			.stop()
			.animate({ scrollLeft: contents.eq(currentIndex).offset().left }, 'easeOutSine');

		event.preventDefault();
	} else if (event.originalEvent.deltaY < 0) {
		// ë§ˆìš°ìŠ¤ íœ  ìœ„ë¡œ ìŠ¤í¬ë¡¤
		currentIndex--;
		if (currentIndex < secArr[0]) {
			// ì²«ë²ˆì§¸ ìš”ì†Œë¥¼ ë„˜ì–´ê°€ë©´ ë§ˆì§€ë§‰ ìš”ì†Œë¡œ ëŒì•„ê°
			currentIndex = secArr[secArr.length - 1];
		}
		$('html,body')
			.stop()
			.animate({ scrollLeft: contents.eq(currentIndex).offset().left }, 'easeOutSine');
		event.preventDefault();
	}
});
```

!!!

ì•„ë˜ëŠ” gnb ì˜ì—­ì„ ì¶”ê°€í•  ê²½ìš° ì‘ì„±í•œë‹¤.

!!!

```js
$('.top_logo').click(function () {
	$('html,body')
		.stop()
		.animate({ scrollLeft: contents.eq(0).offset().left }, 1300);
});

$('.lnb > li').click(function (e) {
	e.preventDefault();
	const i = $(this).index();
	const wt = $(window).width();
	const nowLeft = i * wt;
	$('html,body').stop().animate({ scrollLeft: nowLeft }, 1300);
});
```

+++

## 2. ì†ì„±ì„ í™œìš©í•œ ìŠ¤í¬ë¡¤ íš¨ê³¼

+++ ì˜ˆì œ

[!ref target='blank' text=':icon-play:ë¯¸ë¦¬ë³´ê¸°'](https://qwerewqwerew.github.io/source/jq/14)

+++ HTML

```html # html
<!DOCTYPE html>
<html lang="ko">
	<head>
		<link rel="stylesheet" href="style.css" />
	</head>

	<body>
		<nav>
			<ul class="gnb">
				<li class="on"><a href="#section1">section1</a></li>
				<li><a href="#section2">section2</a></li>
				<li><a href="#section3">section3</a></li>
				<li><a href="#section4">section4</a></li>
				<li><a href="#section5">section5</a></li>
			</ul>
		</nav>
		<ul class="sideNav">
			<li class="on"><a href="#section1">section1</a></li>
			<li><a href="#section2">section2</a></li>
			<li><a href="#section3">section3</a></li>
			<li><a href="#section4">section4</a></li>
			<li><a href="#section5">section5</a></li>
		</ul>
		<div class="container">
			<div class="section" id="section1" data-delay="0">
				<figure class="reveal">
					<figcaption>section1</figcaption>
					<div class="img"></div>
				</figure>
			</div>
			<div class="section" id="section2" data-delay="50">
				<figure class="reveal">
					<figcaption>section2</figcaption>
					<div class="img"></div>
				</figure>
			</div>
			<div class="section" id="section3" data-delay="100">
				<div class="stage">
					<div class="left box"></div>
					<div class="right box"></div>
				</div>
			</div>
			<div class="section" id="section4">
				<div class="parallax">
					<div class="pbox" data-delay="50">1</div>
					<div class="pbox" data-delay="150">2</div>
					<div class="pbox" data-delay="300">3</div>
				</div>
			</div>
			<div class="section" id="section5">
				<div class="parallax">
					<div class="pbox" data-delay="600">1</div>
					<div class="pbox" data-delay="800">2</div>
					<div class="pbox" data-delay="1000">3</div>
				</div>
			</div>
		</div>
		<script src="js.js"></script>
	</body>
</html>
```

+++ CSS

```css # css
* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}
body {
	background-color: #f5f5f5;
}
ul {
	list-style: none;
}
a {
	text-decoration: none;
}
/* nav */
nav {
	position: absolute;
	top: 0;
	z-index: 2;
	background-color: rgba(0, 0, 0, 0.4);
	padding: 15px 20px;
	width: 100%;
}
nav.sticky {
	background: rgba(255, 0, 0, 0.363);
	position: fixed;
	z-index: 9999999;
}
nav .gnb {
	display: flex;
	width: 100%;
	max-width: 1600px;
	margin: auto;
}
nav .gnb {
	display: flex;
	width: 100%;
	max-width: 1600px;
	margin: auto;
}
nav .gnb li {
	list-style: none;
	flex: 1 1 200px;
}
nav .gnb li a {
	color: #fff;
	text-decoration: none;
	display: inline-block;
	padding: 5px;
	width: 50px;
	height: 30px;
	text-align: center;
	line-height: 30px;
	position: relative;
}
nav .gnb li a::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 2px;
	background-color: #3d3d3d;
	transform: scaleX(0);
	transition: all 0.5s;
	transform-origin: left;
}
nav .gnb li a::after {
	content: '';
	position: absolute;
	bottom: 0;
	left: 0;
	width: 100%;
	height: 2px;
	background-color: #3d3d3d;
	transform: scaleX(0);
	transition: all 0.5s;
	transform-origin: right;
}
nav ul.gnb li.on a::before,
nav ul.gnb li.on a::after,
nav ul.gnb li a:hover::before,
nav ul.gnb li a:hover::after {
	transform: scaleX(1);
}

/* sideNav */
.sideNav {
	position: fixed;
	top: 10%;
	right: 10%;
	transition: top 1s;
	z-index: 9999;
}
.sideNav a {
	display: inline-block;
	padding: 1em;
	background-color: rgba(0, 0, 0, 0.5);
	color: #fff;
	margin-bottom: 1em;
}
.sideNav li.on a:before {
	content: 'ğŸ˜º';
}

/* container */
.container {
	max-width: 1600px;
	margin: auto;
	width: 100%;
	overflow: hidden;
}

/* section */
.section {
	width: 100%;
	max-width: 1400px;
	margin: 5em auto;
	padding-top: 10em;
	background: #f5f5f5;
	height: calc(100vh - 10em);
	position: relative;
}
.section .reveal,
.section .stage {
	width: 100%;
	height: 100%;
	position: relative;
	overflow: hidden;
}
.section .reveal .img {
	position: absolute;
	left: -10%;
	top: 8rem;
	width: 120%;
	height: 500px;
	background-repeat: no-repeat;
	background-size: cover;
	filter: saturate(0%) blur(5px);
	background-image: url(https://placehold.co/500);
	transition: filter 1s ease-in-out;
	opacity: 0;
}
.section .reveal .img:hover {
	transition: filter 1s ease-in-out;
	filter: saturate(100%) blur(0);
}
.section .reveal figcaption {
	position: absolute;
	font-size: 10rem;
	color: #d6d6d6;
	opacity: 0;
	top: -2.5rem;
}
.section .reveal::before {
	content: '';
	position: absolute;
	right: 0;
	top: 0;
	width: 0;
	height: 100%;
	z-index: 100;
	background-color: #494949;
	backdrop-filter: blur(20px);
}

/*section3 */
.stage {
	top: 20%;
}
.box {
	width: 40%;
	height: 20rem;
	background-color: red;
	position: absolute;
	transition: left 1s;
}
.left {
	left: -100%;
	transition-delay: 0;
}
.right {
	left: 100%;
	transition-delay: 1s;
}
.sectionIn .left {
	left: 0%;
}
.sectionIn .right {
	left: 60%;
}

/* section4 */
.parallax {
	display: flex;
	justify-content: space-around;
	height: 500px;
}
.parallax .pbox {
	width: 20%;
	height: 20rem;
	background-color: red;
	transition: transform 2s;
	transform: translateY(400%);
	animation: opacity 3s alternate;
}
.parallax .pbox.sectionIn {
	transform: translateY(10%);
}

/*sectionIn */
.section.sectionIn .reveal .img,
.section.sectionIn .reveal figcaption {
	animation: opacity 1s linear forwards;
}
.section.sectionIn .reveal::before {
	animation: reveal 1s cubic-bezier(0.77, 0, 0.18, 1);
}

@keyframes reveal {
	0% {
		width: 0;
		left: 0;
	}
	50% {
		width: 100%;
		left: 0;
	}
	80% {
		width: 100%;
		left: 0;
	}
	100% {
		width: 0;
		left: 100%;
	}
}
@keyframes opacity {
	0% {
		opacity: 0;
	}
	60% {
		opacity: 0;
	}
	80% {
		opacity: 1;
	}
	100% {
		opacity: 1;
	}
}
```

+++ JS

```js # javascript
const gnb = document.querySelectorAll('.gnb>li');
const gnbAnc = document.querySelectorAll('.gnb>li>a');
const sideNav = document.querySelectorAll('.sideNav>li');
const sideNavAnc = document.querySelectorAll('.sideNav>li>a');
let winH = window.innerHeight;
const sections = document.querySelectorAll('.section');

let winSct;

window.addEventListener('scroll', function () {
	winSct = (window.pageYOffset || document.documentElement.scrollTop || window.scrollY) + winH * 0.9;
	//console.log(winSct);
	sectionAni(winSct);
	sideNavAni();
});

gnbAnc.forEach((el) => {
	el.addEventListener('click', function (e) {
		e.preventDefault();
		//console.log(el.getAttribute("href"), this);
		document.querySelector(el.getAttribute('href')).scrollIntoView({ behavior: 'smooth', block: 'center' });
	});
});

sideNavAnc.forEach((el) => {
	el.addEventListener('click', function (e) {
		e.preventDefault();
		document.querySelector(el.getAttribute('href')).scrollIntoView({ behavior: 'smooth', block: 'center' });
	});
});

function sideNavAni() {
	document.querySelector('.sideNav').style.top = '-20%';
	setTimeout(() => {
		document.querySelector('.sideNav').style.top = parseInt((winH - document.querySelector('.sideNav').clientHeight) / 2) + 'px';
	}, 400);
}

const sectionAni = (n) => {
	sections.forEach((o, i) => {
		let sct = o.offsetTop;
		const delay = o.dataset.delay;
		/* ìŠ¤í‹°í‚¤í—¤ë” */
		n > sections[0].offsetTop ? document.querySelector('nav').classList.add('sticky') : document.querySelector('nav').classList.remove('sticky');
		//console.log(delay);
		if (n > sct) {
			if (delay == undefined) {
				/*console.log(o.hasChildNodes("parallax"));  */
				/* parallax ìì‹ì´ ìˆëŠ”ì§€ ê²€ì‚¬ */
				if (o.hasChildNodes('.parallax')) {
					parallaxAni();
				} else {
					o.classList.add('sectionIn');
				}
			} else {
				setTimeout(() => {
					return o.classList.add('sectionIn');
				}, delay);
			}

			gnb.forEach((el) => {
				el.classList.remove('on');
			});
			gnb[i].classList.add('on');
			sideNav.forEach((el) => {
				el.classList.remove('on');
			});
			sideNav[i].classList.add('on');
		} else {
			o.classList.remove('sectionIn');
		}
	});
};

function parallaxAni() {
	const parallax = document.querySelectorAll('.parallax>.pbox');
	parallax.forEach((o) => {
		o.classList.remove('sectionIn');
		const parallaxDelay = o.getAttribute('data-delay');
		setTimeout(() => {
			return o.classList.add('sectionIn');
		}, parallaxDelay);
	});
}
```

+++
